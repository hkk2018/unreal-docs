{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{242:function(e,t,a){\"use strict\";a.r(t);var r=a(0),n=Object(r.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":e.$parent.slotKey}},[a(\"h1\",{attrs:{id:\"環境設計\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#環境設計\"}},[e._v(\"#\")]),e._v(\" 環境設計\")]),e._v(\" \"),a(\"h2\",{attrs:{id:\"手遊效能要求\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#手遊效能要求\"}},[e._v(\"#\")]),e._v(\" 手遊效能要求\")]),e._v(\" \"),a(\"ol\",[a(\"li\",[e._v(\"純環境Draw call一般須100以下。\")])]),e._v(\" \"),a(\"h2\",{attrs:{id:\"效能檢測\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#效能檢測\"}},[e._v(\"#\")]),e._v(\" 效能檢測\")]),e._v(\" \"),a(\"ol\",[a(\"li\",[e._v(\"cmd(`鍵)輸入stat scenerendering，可查到Draw call（Mesh Draw Calls）。\")]),e._v(\" \"),a(\"li\",[e._v('Draw call會受到選取（可用g鍵為切換game mode，以隱藏選取、輔助線及燈光符號）、開著MeshAsset等因素影響，檢測效能若出現非預期結果很可能與此有關。（經常發生：弄了老半天Draw Call還100多，全關了還有40多，不可能啊...啊MeshAssets開著沒開=.=\"）')]),e._v(\" \"),a(\"li\",[e._v(\"Draw call for LODn ≒ mesh數（instanced則同類只計1） * mat數 * 2（有陰影的話），同時間出現的LOD越多越多Draw call。\")]),e._v(\" \"),a(\"li\",[e._v(\"Lighting Build之前引擎會動態計算影子，即使是static的物件，所以Build之後才是真實值。（實測：mesh取消cast shadow跟Lighting Build完成後的結果一樣）\"),a(\"a\",{attrs:{href:\"https://forums.unrealengine.com/development-discussion/content-creation/116237-foliage-tool-and-draw-calls\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"ref\"),a(\"OutboundLink\")],1)])]),e._v(\" \"),a(\"h2\",{attrs:{id:\"材質處理\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#材質處理\"}},[e._v(\"#\")]),e._v(\" 材質處理\")]),e._v(\" \"),a(\"ol\",[a(\"li\",[e._v(\"Quixel材質載入時自動生成的Material Instance有許多參數可調，非常便利。\")]),e._v(\" \"),a(\"li\",[e._v(\"若\"),a(\"strong\",[e._v(\"Landscape Layer Blend（LLB）要用到Quixel材質，且想同時開出參數調整\")]),e._v(\"，在4.26版必須將各材質寫成Mat Func（MF），複製幾份接到LLB上，且每層都需重新命名MF中的參數，因為名稱一樣只會對外顯示一個。\"),a(\"a\",{attrs:{href:\"https://www.youtube.com/watch?v=esuOUHfRjsE&ab_channel=MR3D-Dev\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"ref\"),a(\"OutboundLink\")],1)]),e._v(\" \"),a(\"li\",[e._v(\"要替換Mat Func，不須斷開原有連線，點選該MF後Detail區選擇其他Mat Func即可。\")])]),e._v(\" \"),a(\"h2\",{attrs:{id:\"燈光\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#燈光\"}},[e._v(\"#\")]),e._v(\" 燈光\")]),e._v(\" \"),a(\"ol\",[a(\"li\",[e._v(\"美術原則：\"),a(\"strong\",[e._v(\"高對比\")]),e._v(\"環境視覺上重視\"),a(\"strong\",[e._v(\"Directional Light（DL）\")]),e._v(\"，\"),a(\"strong\",[e._v(\"低對比\")]),e._v(\"重視\"),a(\"strong\",[e._v(\"Sky Light（SL）\")]),e._v(\"。\")]),e._v(\" \"),a(\"li\",[e._v(\"調整燈光時，先關閉環境所有燈光以從零建構，如果重視SL，則先加入SL、SkyDome、fog等對SL影響大之因素進行調整(Recapture看效果)。\")])]),e._v(\" \"),a(\"h2\",{attrs:{id:\"mesh處理\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#mesh處理\"}},[e._v(\"#\")]),e._v(\" Mesh處理\")]),e._v(\" \"),a(\"ol\",[a(\"li\",[e._v(\"UE4對於場景中多個一樣的static mesh，它僅占一份的memory，但仍會增加draw call。\"),a(\"a\",{attrs:{href:\"https://forums.unrealengine.com/development-discussion/architectural-and-design-visualization/86096-static-mesh-instancing\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"ref\"),a(\"OutboundLink\")],1)]),e._v(\" \"),a(\"li\",[e._v(\"Instanced Static Mesh僅一次draw call，而Hierarchical Instanced Static Mesh則可進一步保留各別instance之LOD。\"),a(\"a\",{attrs:{href:\"https://www.youtube.com/watch?v=oMIbV2rQO4k&ab_channel=TechArtAid\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"ref1\"),a(\"OutboundLink\")],1),a(\"a\",{attrs:{href:\"https://answers.unrealengine.com/questions/178414/difference-between-instanced-static-mesh-component.html\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"ref2\"),a(\"OutboundLink\")],1)]),e._v(\" \"),a(\"li\",[e._v(\"場景設計實務上不太用3，一來只能在BP中調，二來限定單一種mesh，不適用在Editor擺設各種mesh的一般工作流程，所以通常是用Merge Actors，將所有mesh直接合併成1個或數個。\")]),e._v(\" \"),a(\"li\",[e._v(\"Merge Actor要能合併Material，需限定單一LOD，所以可以分成近景（細緻）、遠景（粗糙），而合併為2個mesh。\")]),e._v(\" \"),a(\"li\",[e._v(\"屬於同一個單元的mesh（同一間房子or同一個區域）盡量要用資料夾分類，以便選取。\")]),e._v(\" \"),a(\"li\",[e._v(\"可以將製作用的mesh移出到sub level，這樣在打包時才不會占用空間。\")])]),e._v(\" \"),a(\"h2\",{attrs:{id:\"foliage效能\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#foliage效能\"}},[e._v(\"#\")]),e._v(\" Foliage效能\")]),e._v(\" \"),a(\"ol\",[a(\"li\",[e._v(\"Foliage在開放世界可以藉由LOD優化效能，但在開發手遊時，場景中增加LOD反而會大幅提升Draw call。\")]),e._v(\" \"),a(\"li\",[e._v(\"LOD必須從asset中調整，可以重設LOD之數量，特定LOD之tri count等，手遊建議直接只留LOD0並適當減少tri count。\")])]),e._v(\" \"),a(\"h2\",{attrs:{id:\"landscape優化\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#landscape優化\"}},[e._v(\"#\")]),e._v(\" Landscape優化\")]),e._v(\" \"),a(\"ol\",[a(\"li\",[e._v(\"draw call數目 = n * component數 * section數，所以要減少後二者。\"),a(\"a\",{attrs:{href:\"https://zhuanlan.zhihu.com/p/80663129\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"ref\"),a(\"OutboundLink\")],1)]),e._v(\" \"),a(\"li\",[e._v(\"component數目無法動態更改，而刪除landscape後fooliage會受到影響（大多會被刪除，少數會留下，原因不明），無法避免，所以一開始component數就要先確定以免白工。\")])]),e._v(\" \"),a(\"h2\",{attrs:{id:\"小技巧\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#小技巧\"}},[e._v(\"#\")]),e._v(\" 小技巧\")]),e._v(\" \"),a(\"ol\",[a(\"li\",[e._v(\"4.26版world outliner要一次收合資料夾要：1.shift_點擊根目錄小三角 2.釋放shift並再次點擊。（UE4整理物件動輒數百數千，資料夾又動不動展開，無此招則甚不便）\"),a(\"a\",{attrs:{href:\"https://forums.unrealengine.com/development-discussion/content-creation/59836-how-to-keep-closed-the-folders-in-world-outliner\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"ref\"),a(\"OutboundLink\")],1)])])])}),[],!1,null,null,null);t.default=n.exports}}]);","extractedComments":[]}